<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="WindowsApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:controls="using:WindowsApp.Controls"
    xmlns:local="using:LocalFile.Models"
    
    mc:Ignorable="d"
    Title="FLex Search">

    <Window.SystemBackdrop>
        <DesktopAcrylicBackdrop />
    </Window.SystemBackdrop>

    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400" />
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Background="#26000000" Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" >
                <TextBlock Margin="30,30,0,20" FontSize="20" FontWeight="Bold" Text="Log"/>
            </StackPanel>

            <StackPanel Grid.Row="1" >

            <ScrollViewer Height="366"  ZoomMode="Enabled"

            HorizontalScrollMode="Enabled" HorizontalScrollBarVisibility="Auto"
            VerticalScrollMode="Enabled" VerticalScrollBarVisibility="Auto">

                    <ListView           
             Width="Auto"  ItemsSource="{x:Bind ViewModel.logs, Mode=OneWay}"
                              >
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="x:String">
                                <TextBlock Text="{x:Bind}" Padding="8,4"/>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                </ScrollViewer>

            </StackPanel>




        </Grid>

        <Grid  Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid Padding="30,30,30,0" Grid.Column="1" Grid.Row="0">
                <Grid.ColumnDefinitions >
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>


                <StackPanel Grid.Column="2" VerticalAlignment="Center" Padding="0,0,0,4">
                    <TextBlock x:Name="txtCaminhoArquivoas" FontSize="20" FontWeight="Bold" Text="{x:Bind ViewModel.frontText.ProjectName , Mode=OneWay}"/>
                    <TextBlock TextWrapping="Wrap" Width="380" x:Name="txtCaminhoArquivo" Text="{x:Bind ViewModel.frontText.ProjectVersion, Mode=OneWay}"/>
                </StackPanel>
                <!--<TextBox 
                    x:Name="txtCaminhoArquivo"
                    Grid.Column="0"
                    PlaceholderText="Selecione um arquivo..."
                    IsReadOnly="True"
                    FlowDirection="RightToLeft"
                    Margin="0,0,20,0"/>-->


                <Image Source="/Assets/android-chrome-512x512.png" Grid.Column="0" Height="60" />

            </Grid>

            <Grid ColumnSpacing="20" RowSpacing="5" Padding="30,30,30,00" Grid.Column="1" Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <NumberBox
                x:Name="nbHowManySearch"
                Header="{x:Bind ViewModel.frontText.HowManySearch}"
                Value="{x:Bind ViewModel.HowManySeacrh, Mode=TwoWay}"
                Grid.Column="0"
                Grid.Row="0"
                SpinButtonPlacementMode="Inline"
                SmallChange="1"
                 ValueChanged="{x:Bind ViewModel.HowManySearchSubTextUpdate}"
                LargeChange="100" />

                <TextBlock Padding="10,0,0,00" Grid.Row="1" Grid.Column="0" x:Name="txtHowManySearch" FontSize="11" Foreground="#666" Text="{x:Bind ViewModel.frontText.HowManySearchSubText, Mode=OneWay}"/>
                
                <NumberBox
                x:Name="nbTimeBetweenSearch"
                Header="{x:Bind ViewModel.frontText.HowLong}"
                Value="{x:Bind ViewModel.HowLongTime, Mode=TwoWay}"
                Grid.Column="1"
                    Grid.Row="0"
                SpinButtonPlacementMode="Inline"
                    ValueChanged="{x:Bind ViewModel.HowLongSubTextUpdate}"
                SmallChange="30"
                LargeChange="100" />

                <TextBlock Padding="10,0,0,0" Grid.Row="1" Grid.Column="1" x:Name="txtTimeBetweenSearch" FontSize="11" Foreground="#666" Text="{x:Bind ViewModel.frontText.HowLongSubText, Mode=OneWay}"/>

            </Grid>

            <Grid Padding="30,30,30,00" Grid.Column="1" Grid.Row="2">


                <ComboBox x:Name="cmbSearchList" 
                          Header="{x:Bind ViewModel.frontText.ListOfSearchOption}" 
                          PlaceholderText="Selecione a lista" 
                          HorizontalAlignment="Stretch"
                          ItemsSource="{x:Bind ViewModel.searchListOption}"
                          >

                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="local:Record">
 
                                <StackPanel Grid.Column="1" Orientation="Horizontal" >

                                    <SymbolIcon Symbol="AllApps" 
                               Margin="0,0,10,0"
                               />
                                    <TextBlock Grid.Column="1" Text="{x:Bind Name}" 
                                  FontWeight="SemiBold" 
                                  FontSize="14"
                                  Margin="0,0,10,0"
                                           />
                                <TextBlock 
                                           Text="{x:Bind Size}" 
                                           Margin="0,2,0,0"
                                  FontSize="12" 
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                <TextBlock 
                                           Text=" lines" 
                                           Margin="0,2,0,0"
                                  FontSize="12" 
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>

                        
                        </DataTemplate>
                    </ComboBox.ItemTemplate>

                </ComboBox>

            </Grid>

            <Grid Padding="30,30,30,00" Grid.Column="1" Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" Grid.Column="0">
                    <ToggleSwitch Header="{x:Bind ViewModel.frontText.TurnOfComputer.mainDescription}" OffContent="{x:Bind ViewModel.frontText.TurnOfComputer.turnOn}" OnContent="{x:Bind ViewModel.frontText.TurnOfComputer.turnOff}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Grid.Column="3">
                    <ToggleSwitch x:Name="tgsUpdatePage" Header="{x:Bind ViewModel.frontText.UpdateThePage.mainDescription}" OffContent="{x:Bind ViewModel.frontText.UpdateThePage.turnOn}" OnContent="{x:Bind ViewModel.frontText.UpdateThePage.turnOff}" IsOn="True" />
                </StackPanel>


            </Grid> 

            <Grid Padding="30,20,30,0" Grid.Column="1" Grid.Row="4">
                <Button 
                x:Name="btnExecutar"
                HorizontalAlignment="Stretch"
                Style="{StaticResource AccentButtonStyle}"
                Click="{x:Bind StartSearch}"
                >
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="{x:Bind ViewModel.Status, Mode=OneWay}" VerticalAlignment="Center"/>
                        <SymbolIcon x:Name="sbiButtonIco" Symbol="Find"/>
                    </StackPanel>
                </Button>
            </Grid>

        </Grid>



    </Grid>

</Window>
